name: Create and publish a Docker image

on:
  push:
    branches:
      - main
      - beta
  workflow_dispatch:

permissions:
  attestations: write
  packages: write
  id-token: write
  contents: read

jobs:
  publish:
    name: Publish
    uses: setsetset-777/toolbox/.github/workflows/docker-publish.yml@main
    with:
      image_name: ${{ github.repository }}
      registry: ghcr.io
